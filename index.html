<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Imposter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
<circle cx='50' cy='50' r='50' fill='%23000000'/>
<circle cx='50' cy='36' r='14' fill='%23ffffff'/>
<path d='M30 70c0-14 40-14 40 0v6H30z' fill='%23ffffff'/>
<rect x='24' y='30' width='52' height='8' rx='4' fill='%23000000'/>
</svg>">

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

:root{
--bg:#000000;
--card:#0a0a0a;
--border:#1f1f1f;
--text:#f5f5f5;
--muted:#9ca3af;
--accent:#ffffff;
}

*{box-sizing:border-box;font-family:'Inter',system-ui,sans-serif}

body{
margin:0;
background:var(--bg);
color:var(--text);
padding:16px;
}

.hidden{display:none}

.screen{
max-width:420px;
margin:auto;
}

.card{
background:var(--card);
border:1px solid var(--border);
border-radius:22px;
padding:22px;
margin-top:16px;
}

h1{
font-size:34px;
font-weight:800;
margin:0 0 8px;
}

h2{
font-size:18px;
margin-bottom:14px;
}

label{
font-size:13px;
color:var(--muted);
display:block;
margin-bottom:6px;
text-align:left;
}

input,select{
width:100%;
background:#000;
border:1px solid var(--border);
border-radius:14px;
padding:12px;
color:var(--text);
font-size:15px;
margin-bottom:14px;
}

.row{
display:flex;
gap:12px;
}

button{
width:100%;
padding:14px;
border-radius:16px;
border:none;
font-weight:700;
font-size:15px;
background:var(--accent);
color:#000;
cursor:pointer;
}

button.secondary{
background:#000;
color:var(--text);
border:1px solid var(--border);
margin-top:10px;
}

.grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:14px;
margin-top:14px;
}

.tile{
background:#000;
border:1px solid var(--border);
border-radius:18px;
padding:40px 10px;
font-weight:700;
cursor:pointer;
}

.tile.used{
opacity:0;
pointer-events:none;
}

.overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,.92);
display:flex;
align-items:center;
justify-content:center;
opacity:0;
pointer-events:none;
transition:.25s;
}

.overlay.show{
opacity:1;
pointer-events:auto;
}

.modal{
background:#000;
border:1px solid var(--border);
border-radius:22px;
padding:26px;
width:90%;
max-width:360px;
text-align:center;
}

.icon{
font-size:42px;
margin-bottom:10px;
}
</style>
</head>

<body>

<div class="screen">

<!-- MENU -->
<div id="menu" class="card">
<div class="icon">üïµÔ∏è‚Äç‚ôÇÔ∏è</div>
<h1>Imposter</h1>
<p style="color:var(--muted)">A social deduction game</p>
<button onclick="goSetup()">Begin</button>
</div>

<!-- SETUP -->
<div id="setup" class="card hidden">
<h2>Game Setup</h2>

<label>Number of Players</label>
<input id="playerCount" type="number" min="4" max="12" value="6">

<label>Number of Imposters</label>
<input id="imposterCount" type="number" min="1" max="3" value="1">

<label>Category</label>
<select id="categorySelect">
<option value="all">All Categories</option>
<option value="sports">Sports</option>
<option value="animals">Animals</option>
<option value="food">Food</option>
<option value="locations">Locations</option>
<option value="objects">Objects</option>
</select>

<div id="names"></div>

<button onclick="startGame()">Start Game</button>
<button class="secondary" onclick="goMenu()">Back</button>
</div>

<!-- GAME -->
<div id="game" class="card hidden">
<p id="speaker"></p>
<div class="grid" id="grid"></div>
<button id="revealBtn" class="secondary hidden" onclick="showReveal()">Reveal</button>
<button class="secondary" onclick="newRound()">Next Round</button>
</div>

</div>

<!-- ROLE -->
<div class="overlay" id="overlay">
<div class="modal">
<h2 id="roleTitle"></h2>
<p id="roleText"></p>
<button onclick="closeOverlay()">OK</button>
</div>
</div>

<!-- REVEAL -->
<div class="overlay" id="reveal">
<div class="modal">
<h2>Answer</h2>
<p id="finalAnswer"></p>
<p style="margin-top:10px"><b>Imposters</b></p>
<p id="finalImposters"></p>
<button onclick="closeReveal()">Done</button>
</div>
</div>

<script>
const data={
sports:[
["LeBron James","longevity"],
["Mahomes","sidearm"],
["Ohtani","two-way"],
["Yankees","pinstripes"],
["Warriors","splash"]
],
animals:[
["Dog","leash"],["Cat","whiskers"],["Lion","mane"],
["Elephant","trunk"],["Penguin","waddle"]
],
food:[
["Pizza","slice"],["Burger","stack"],["Sushi","roll"],
["Fries","basket"],["Donut","glaze"]
],
locations:[
["Library","stacks"],["Airport","gate"],["Beach","shore"],
["Gym","rack"],["Hospital","ward"]
],
objects:[
["Phone","screen"],["Keys","jingle"],
["Clock","hands"],["Backpack","zipper"]
]
};

let names=[],roles=[],current={},viewed=0;

function goSetup(){
menu.classList.add("hidden");
setup.classList.remove("hidden");
buildNames();
}

function goMenu(){
setup.classList.add("hidden");
game.classList.add("hidden");
menu.classList.remove("hidden");
}

function buildNames(){
namesDiv.innerHTML="";
for(let i=0;i<playerCount.value;i++){
const input=document.createElement("input");
input.placeholder=`Player ${i+1}`;
namesDiv.appendChild(input);
}
}

function startGame(){
names=[...namesDiv.querySelectorAll("input")].map((i,n)=>i.value||`Player ${n+1}`);
setup.classList.add("hidden");
game.classList.remove("hidden");
newRound();
}

function newRound(){
viewed=0;
revealBtn.classList.add("hidden");

const pool=categorySelect.value==="all"
?Object.values(data).flat()
:data[categorySelect.value];

const pick=pool[Math.floor(Math.random()*pool.length)];
current={answer:pick[0],hint:pick[1],category:categorySelect.options[categorySelect.selectedIndex].text};

roles=Array(names.length).fill("player");
for(let i=0;i<Math.min(imposterCount.value,names.length-1);i++)roles[i]="imposter";
roles.sort(()=>Math.random()-0.5);

speaker.textContent="First word: "+names[Math.floor(Math.random()*names.length)];
grid.innerHTML="";

names.forEach((n,i)=>{
const tile=document.createElement("div");
tile.className="tile";
tile.textContent=n;
tile.onclick=()=>{
showRole(i);
tile.classList.add("used");
viewed++;
if(viewed===names.length)revealBtn.classList.remove("hidden");
};
grid.appendChild(tile);
});
}

function showRole(i){
overlay.classList.add("show");
if(roles[i]==="imposter"){
roleTitle.textContent="IMPOSTER";
roleText.textContent=`Category: ${current.category}\nHint: ${current.hint}`;
}else{
roleTitle.textContent=current.answer;
roleText.textContent="Stay niche.";
}
}

function closeOverlay(){overlay.classList.remove("show")}

function showReveal(){
finalAnswer.textContent=current.answer;
final

