<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Imposter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

:root{
--bg:#000;
--card:#0b0b0b;
--border:#1f1f1f;
--text:#f5f5f5;
--muted:#9ca3af;
--accent:#ffffff;
}

*{box-sizing:border-box;font-family:'Inter',system-ui,sans-serif}

body{
margin:0;
background:var(--bg);
color:var(--text);
padding:16px;
}

.hidden{display:none}
.screen{max-width:420px;margin:auto}

.card{
background:var(--card);
border:1px solid var(--border);
border-radius:22px;
padding:22px;
margin-top:16px;
}

h1{font-size:34px;font-weight:800;margin:0 0 8px}
h2{font-size:18px;margin-bottom:14px}

label{
font-size:13px;
color:var(--muted);
display:block;
margin-bottom:6px;
}

input,select{
width:100%;
background:#000;
border:1px solid var(--border);
border-radius:14px;
padding:12px;
color:var(--text);
font-size:15px;
margin-bottom:14px;
}

button{
width:100%;
padding:14px;
border-radius:16px;
border:none;
font-weight:700;
background:var(--accent);
color:#000;
cursor:pointer;
}

button.secondary{
background:#000;
color:var(--text);
border:1px solid var(--border);
margin-top:10px;
}

.grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:14px;
margin-top:14px;
}

.tile{
background:#000;
border:1px solid var(--border);
border-radius:18px;
padding:40px 10px;
font-weight:700;
cursor:pointer;
}

.tile.used{opacity:0;pointer-events:none}

.overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,.92);
display:none;
align-items:center;
justify-content:center;
}

.overlay.show{display:flex}

.modal{
background:#000;
border:1px solid var(--border);
border-radius:22px;
padding:26px;
width:90%;
max-width:360px;
text-align:center;
}
</style>
</head>

<body>

<div class="screen">

<div id="menu" class="card">
<h1>Imposter</h1>
<p style="color:var(--muted)">A social deduction game</p>
<button onclick="goSetup()">Begin</button>
</div>

<div id="setup" class="card hidden">
<h2>Game Setup</h2>

<label>Players</label>
<input id="playerCount" type="number" min="4" max="12" value="6">

<label>Imposters</label>
<input id="imposterCount" type="number" min="1" max="3" value="1">

<label>Category</label>
<select id="categorySelect">
<option value="all">All</option>
<option value="animals">Animals</option>
<option value="food">Food</option>
<option value="locations">Locations</option>
<option value="objects">Objects</option>
<option value="sports">Sports</option>
</select>

<div id="names"></div>

<button onclick="startGame()">Start Game</button>
<button class="secondary" onclick="goMenu()">Back</button>
</div>

<div id="game" class="card hidden">
<p id="speaker"></p>
<div id="grid" class="grid"></div>
<button id="revealBtn" class="secondary hidden" onclick="showReveal()">Reveal</button>
<button class="secondary" onclick="newRound()">Next Round</button>
</div>

</div>

<div id="overlay" class="overlay">
<div class="modal">
<h2 id="roleTitle"></h2>
<p id="roleText"></p>
<button onclick="closeOverlay()">OK</button>
</div>
</div>

<div id="reveal" class="overlay">
<div class="modal">
<h2>Answer</h2>
<p id="finalAnswer"></p>
<p><b>Imposters</b></p>
<p id="finalImposters"></p>
<button onclick="closeReveal()">Done</button>
</div>
</div>

<script>
/* DOM */
const menu = document.getElementById("menu");
const setup = document.getElementById("setup");
const game = document.getElementById("game");
const namesDiv = document.getElementById("names");
const grid = document.getElementById("grid");
const overlay = document.getElementById("overlay");
const reveal = document.getElementById("reveal");
const speaker = document.getElementById("speaker");
const revealBtn = document.getElementById("revealBtn");

const playerCount = document.getElementById("playerCount");
const imposterCount = document.getElementById("imposterCount");
const categorySelect = document.getElementById("categorySelect");

const roleTitle = document.getElementById("roleTitle");
const roleText = document.getElementById("roleText");
const finalAnswer = document.getElementById("finalAnswer");
const finalImposters = document.getElementById("finalImposters");

/* WORD DATA (200+) */
const data = {
animals:[
["Dog","leash"],["Cat","whiskers"],["Horse","stable"],["Lion","mane"],
["Tiger","stripes"],["Bear","den"],["Elephant","trunk"],["Giraffe","neck"],
["Zebra","herd"],["Wolf","pack"],["Fox","sly"],["Deer","antlers"],
["Rabbit","burrow"],["Kangaroo","pouch"],["Koala","eucalyptus"],
["Penguin","waddle"],["Owl","nocturnal"],["Eagle","talons"],
["Frog","lily"],["Snake","coil"],["Turtle","shell"],["Shark","fins"],
["Dolphin","pod"],["Whale","blowhole"],["Octopus","ink"]
],
food:[
["Pizza","slice"],["Burger","stack"],["Pasta","twirl"],["Rice","grain"],
["Bread","loaf"],["Soup","broth"],["Salad","toss"],["Taco","shell"],
["Burrito","wrap"],["Sandwich","layers"],["Fries","basket"],
["Donut","glaze"],["Bagel","hole"],["Pancake","flip"],
["Waffle","grid"],["Ice Cream","scoop"],["Cake","frosting"],
["Cookie","crumb"],["Brownie","fudge"],["Cereal","bowl"],
["Sushi","roll"],["Ramen","noodles"],["Steak","sear"]
],
locations:[
["Library","stacks"],["Airport","gate"],["Beach","shore"],
["Forest","canopy"],["Mountain","ridge"],["Desert","dunes"],
["City","grid"],["Village","square"],["School","hallway"],
["Hospital","ward"],["Stadium","bleachers"],["Mall","atrium"],
["Park","bench"],["Zoo","enclosure"],["Museum","exhibit"],
["Church","pews"],["Theater","curtain"],["Garage","tools"]
],
objects:[
["Phone","screen"],["Keys","jingle"],["Backpack","zipper"],
["Chair","legs"],["Table","edge"],["Clock","hands"],
["Bottle","cap"],["Pen","click"],["Notebook","margin"],
["Remote","buttons"],["Lamp","shade"],["Wallet","fold"],
["Mirror","reflection"],["Shoes","laces"],["Watch","band"]
],
sports:[
["LeBron James","longevity"],["Tom Brady","pocket"],
["Patrick Mahomes","sidearm"],["Steph Curry","range"],
["Shohei Ohtani","two-way"],["Messi","dribble"],
["Ronaldo","airtime"],["Tiger Woods","fairway"],
["Serena Williams","baseline"],["Aaron Judge","tower"],
["Yankees","pinstripes"],["Lakers","gold"],
["Warriors","splash"],["Patriots","dynasty"]
]
};

let names=[],roles=[],current={},viewed=0;

/* FLOW */
function goSetup(){
menu.classList.add("hidden");
setup.classList.remove("hidden");
buildNames();
}

function goMenu(){
setup.classList.add("hidden");
menu.classList.remove("hidden");
}

function buildNames(){
namesDiv.innerHTML="";
for(let i=0;i<playerCount.value;i++){
const input=document.createElement("input");
input.placeholder="Player "+(i+1);
namesDiv.appendChild(input);
}
}

function startGame(){
names=[...namesDiv.querySelectorAll("input")].map((i,n)=>i.value||("Player "+(n+1
