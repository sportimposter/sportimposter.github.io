<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Imposter">
<meta name="theme-color" content="#6366f1">
<title>Imposter</title>
<link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect width='180' height='180' rx='40' fill='%236366f1'/><circle cx='90' cy='70' r='22' fill='white'/><path d='M50 125c0-28 80-28 80 0v15H50z' fill='white'/></svg>">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%236366f1'/><circle cx='50' cy='38' r='14' fill='white'/><path d='M28 70c0-18 44-18 44 0v8H28z' fill='white'/></svg>">
<style>
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
:root{
  --bg:#000000;
  --card:#0f0f12;
  --card-light:#18181f;
  --accent:#ffffff;
  --accent-glow:rgba(255,255,255,0.4);
  --text:#ffffff;
  --text-muted:#8b8b94;
  --border:#27272f;
  --success:#22c55e;
  --danger:#ef4444;
  --danger-glow:rgba(239,68,68,0.4);
}
body{
  font-family:-apple-system,BlinkMacSystemFont,ui-sans-serif,system-ui,sans-serif;
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  min-height:-webkit-fill-available;
  overflow-x:hidden;
  position:relative;
}
body::before{
  content:'';
  position:fixed;
  inset:0;
  background:radial-gradient(circle at 50% 0%,rgba(255,255,255,0.08),transparent 60%);
  pointer-events:none;
  z-index:0;
}
html{height:-webkit-fill-available}
.screen{
  display:none;
  min-height:100vh;
  min-height:-webkit-fill-available;
  padding:20px;
  animation:fadeIn .4s ease;
  position:relative;
  z-index:1;
}
.screen.active{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:28px;
  padding:36px;
  max-width:480px;
  width:100%;
  margin:0 auto;
  box-shadow:0 25px 80px rgba(0,0,0,.6),0 0 0 1px rgba(255,255,255,.03);
  position:relative;
  overflow:hidden;
}
.card::before{
  content:'';
  position:absolute;
  top:-50%;
  left:-50%;
  width:200%;
  height:200%;
  background:radial-gradient(circle,rgba(255,255,255,0.04),transparent 40%);
  pointer-events:none;
}
.card>*{position:relative}
h1{
  font-size:clamp(48px,12vw,72px);
  margin:0 0 12px 0;
  font-weight:900;
  background:linear-gradient(135deg,#ffffff 0%,#d4d4d8 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  letter-spacing:-2px;
  text-shadow:0 0 60px var(--accent-glow);
}
h2{
  font-size:clamp(24px,5vw,32px);
  margin:0 0 24px 0;
  font-weight:700;
  letter-spacing:-.5px;
}
button{
  background:linear-gradient(135deg,var(--accent),#d4d4d8);
  color:#000000;
  border:none;
  border-radius:20px;
  padding:18px 36px;
  font-size:17px;
  font-weight:700;
  margin:10px;
  cursor:pointer;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  box-shadow:0 0 30px var(--accent-glow),0 8px 24px rgba(0,0,0,.4);
  -webkit-user-select:none;
  user-select:none;
  position:relative;
  overflow:hidden;
  letter-spacing:.3px;
}
button::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,.2),transparent);
  opacity:0;
  transition:opacity .3s;
}
button:active{
  transform:scale(.96);
  box-shadow:0 0 20px var(--accent-glow),0 4px 12px rgba(0,0,0,.5);
}
button:active::before{opacity:1}
button.secondary{
  background:var(--card-light);
  border:2px solid var(--border);
  box-shadow:0 4px 12px rgba(0,0,0,.3);
}
button.secondary:active{
  background:var(--card);
  border-color:var(--accent);
}
input,select{
  width:100%;
  padding:18px;
  border-radius:16px;
  border:2px solid var(--border);
  background:var(--card-light);
  color:var(--text);
  margin-bottom:16px;
  font-size:16px;
  transition:all .3s ease;
  font-weight:500;
}
input:focus,select:focus{
  outline:none;
  border-color:var(--accent);
  background:var(--card);
  box-shadow:0 0 0 4px var(--accent-glow);
}
label{
  display:block;
  text-align:left;
  margin-bottom:10px;
  font-weight:700;
  font-size:13px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:var(--text-muted);
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:14px;
  max-width:900px;
  width:100%;
  margin:0 auto;
}
.tile{
  background:var(--card);
  border:2px solid var(--border);
  padding:36px 20px;
  border-radius:24px;
  font-size:18px;
  font-weight:700;
  cursor:pointer;
  transition:all .3s cubic-bezier(.4,0,.2,1);
  position:relative;
  overflow:hidden;
  -webkit-user-select:none;
  user-select:none;
  letter-spacing:.3px;
}
.tile::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,var(--accent),#d4d4d8);
  opacity:0;
  transition:opacity .3s;
}
.tile::after{
  content:'';
  position:absolute;
  inset:-2px;
  border-radius:24px;
  padding:2px;
  background:linear-gradient(135deg,var(--accent),#d4d4d8);
  -webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
  mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
  -webkit-mask-composite:xor;
  mask-composite:exclude;
  opacity:0;
  transition:opacity .3s;
}
.tile:active{
  transform:scale(.95);
  box-shadow:0 0 40px var(--accent-glow);
}
.tile:active::before{opacity:.15}
.tile:active::after{opacity:1}
.tile span{position:relative;z-index:1}
.tile.used{
  opacity:.25;
  pointer-events:none;
  background:var(--card-light);
  transform:scale(.97);
}
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.95);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:100;
  animation:fadeIn .3s ease;
  padding:20px;
}
.overlay.show{display:flex}
.overlay .card{
  animation:slideUp .4s cubic-bezier(.4,0,.2,1);
  max-width:440px;
  margin-bottom:0;
}
@keyframes slideUp{from{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
.muted{color:var(--text-muted);font-weight:500}
.subtitle{
  font-size:18px;
  color:var(--text-muted);
  margin-bottom:40px;
  font-weight:500;
  letter-spacing:.3px;
}
#names{margin:24px 0}
.speaker-card{
  background:linear-gradient(135deg,var(--accent),#d4d4d8);
  padding:28px;
  border-radius:24px;
  margin-bottom:20px;
  box-shadow:0 0 40px var(--accent-glow),0 12px 32px rgba(0,0,0,.5);
  color:#000000;
}
.speaker-card h3{
  margin:0 0 10px 0;
  font-size:13px;
  text-transform:uppercase;
  letter-spacing:2px;
  opacity:.7;
  font-weight:700;
}
.speaker-card h2{
  margin:0;
  font-size:clamp(26px,6vw,36px);
  font-weight:800;
  letter-spacing:-.5px;
  color:#000000;
}
.role-card{text-align:center;padding:40px}
.role-word{
  font-size:clamp(40px,10vw,56px);
  font-weight:900;
  margin:28px 0;
  background:linear-gradient(135deg,var(--success),#34d399);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  letter-spacing:-1px;
  text-shadow:0 0 60px rgba(34,197,94,.4);
}
.role-hint{
  font-size:22px;
  color:var(--text-muted);
  font-style:italic;
  margin-top:20px;
  font-weight:600;
  letter-spacing:.5px;
}
.imposter-text{
  font-size:clamp(44px,12vw,60px);
  font-weight:900;
  margin:28px 0;
  background:linear-gradient(135deg,var(--danger),#f87171);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  letter-spacing:-1px;
  text-shadow:0 0 60px rgba(239,68,68,.4);
  animation:pulse 2s ease-in-out infinite;
}
@keyframes pulse{
  0%,100%{opacity:1}
  50%{opacity:.8}
}
.final-word{
  font-size:clamp(36px,8vw,48px);
  font-weight:800;
  color:var(--success);
  margin:24px 0;
  letter-spacing:-.5px;
  text-shadow:0 0 40px rgba(34,197,94,.3);
}
@media(max-width:600px){
  .card{padding:28px 24px}
  .grid{grid-template-columns:repeat(2,1fr);gap:12px}
  .tile{padding:28px 16px;font-size:16px}
  h1{letter-spacing:-1px}
}
@supports not (backdrop-filter:blur(12px)){
  .overlay{background:rgba(0,0,0,.98)}
}
</style>
</head>
<body>
<!-- MENU -->
<div id="menu" class="screen active">
  <div style="display:flex;flex-direction:column;align-items:center;justify-content:center">
    <h1>IMPOSTER</h1>
    <p class="subtitle">Find the imposters among you</p>
    <div class="card">
      <button id="startBtn">Start Game</button>
    </div>
  </div>
</div>
<!-- SETUP -->
<div id="setup" class="screen">
  <div style="width:100%;max-width:480px">
    <h2>Game Setup</h2>
    <div class="card">
      <label>Number of Players</label>
      <input id="playerCount" type="number" min="4" max="12" value="6">
      <label>Number of Imposters</label>
      <input id="imposterCount" type="number" min="1" max="3" value="1">
      <label>Category</label>
      <select id="category">
        <option value="all">All Categories</option>
        <option value="sports">Sports</option>
        <option value="animals">Animals</option>
        <option value="food">Food & Drink</option>
        <option value="locations">Locations</option>
        <option value="objects">Objects</option>
        <option value="entertainment">Entertainment</option>
        <option value="professions">Professions</option>
      </select>
      <button id="namesBtn">Set Player Names</button>
      <div id="names"></div>
      <button id="beginBtn">Begin Game</button>
      <button id="backBtn" class="secondary">Back to Menu</button>
    </div>
  </div>
</div>
<!-- GAME -->
<div id="game" class="screen">
  <div style="width:100%;max-width:900px">
    <div class="speaker-card">
      <h3>First Speaker</h3>
      <h2 id="speaker"></h2>
    </div>
    <div id="grid" class="grid"></div>
    <div style="margin-top:20px">
      <button id="revealBtn" style="display:none">Reveal Answer</button>
    </div>
  </div>
</div>
<!-- ROLE -->
<div id="roleOverlay" class="overlay">
  <div class="card role-card">
    <div id="roleContent"></div>
    <button id="closeRole">Got It</button>
  </div>
</div>
<!-- FINAL -->
<div id="finalOverlay" class="overlay">
  <div class="card">
    <h2>Game Over</h2>
    <p class="muted">The word was:</p>
    <p class="final-word" id="finalWord"></p>
    <p class="muted" style="margin-top:24px">The Imposters were:</p>
    <p id="finalImposters" style="font-size:22px;font-weight:700;margin-top:12px"></p>
    <button id="nextRound">Play Again</button>
    <button id="menuBtn" class="secondary">Main Menu</button>
  </div>
</div>
<script>
document.addEventListener("DOMContentLoaded",()=>{
const menu=document.getElementById("menu");
const setup=document.getElementById("setup");
const game=document.getElementById("game");
const namesDiv=document.getElementById("names");
const grid=document.getElementById("grid");
const speaker=document.getElementById("speaker");
const revealBtn=document.getElementById("revealBtn");
const roleOverlay=document.getElementById("roleOverlay");
const roleContent=document.getElementById("roleContent");
const finalOverlay=document.getElementById("finalOverlay");
const finalWord=document.getElementById("finalWord");
const finalImposters=document.getElementById("finalImposters");
const playerCount=document.getElementById("playerCount");
const imposterCount=document.getElementById("imposterCount");
const category=document.getElementById("category");
const data={
  sports:[
    ["Basketball","rock"],
    ["Football","helmet"],
    ["Baseball","glove"],
    ["Soccer","goal"],
    ["Tennis","strings"],
    ["Golf","tee"],
    ["Volleyball","antenna"],
    ["Swimming","lane"],
    ["Boxing","ring"],
    ["Wrestling","singlet"],
    ["Gymnastics","chalk"],
    ["Track","starting"],
    ["Skiing","goggles"],
    ["Surfing","wax"],
    ["Skateboarding","trucks"],
    ["Cricket","wicket"],
    ["Rugby","scrum"],
    ["Bowling","foul"],
    ["Lacrosse","mesh"],
    ["Badminton","net"],
    ["Archery","target"],
    ["Fencing","mask"],
    ["Karate","dojo"],
    ["Cycling","spokes"],
    ["Marathon","hydration"],
    ["Polo","saddle"],
    ["Diving","platform"],
    ["Rowing","cox"],
    ["Rock Climbing","carabiner"],
    ["Softball","diamond"],
    ["Frisbee","pull"],
    ["Ping Pong","ping"],
    ["Curling","hack"],
    ["Handball","wall"],
    ["Water Polo","goalie"],
    ["Snowboarding","edge"],
    ["BMX","peg"],
    ["Cheerleading","stunt"],
    ["Figure Skating","toe"],
    ["Dodgeball","line"],
    ["Kickball","diamond"],
    ["Ultimate Frisbee","mark"],
    ["Racquetball","ceiling"],
    ["Squash","tin"],
    ["Judo","tatami"],
    ["Taekwondo","sparring"],
    ["CrossFit","box"],
    ["Powerlifting","chalk"],
    ["Arm Wrestling","pad"],
    ["Billiards","rack"]
  ],
  animals:[
    ["Dog","tail"],
    ["Cat","whiskers"],
    ["Elephant","trunk"],
    ["Giraffe","neck"],
    ["Lion","mane"],
    ["Tiger","stripe"],
    ["Bear","paw"],
    ["Monkey","branch"],
    ["Zebra","stripe"],
    ["Penguin","flipper"],
    ["Eagle","beak"],
    ["Dolphin","fin"],
    ["Shark","fin"],
    ["Whale","blowhole"],
    ["Snake","fang"],
    ["Frog","tongue"],
    ["Rabbit","ear"],
    ["Turtle","shell"],
    ["Owl","eye"],
    ["Parrot","beak"],
    ["Kangaroo","pouch"],
    ["Koala","claw"],
    ["Panda","bamboo"],
    ["Peacock","feather"],
    ["Octopus","arm"],
    ["Jellyfish","tentacle"],
    ["Butterfly","wing"],
    ["Bee","hive"],
    ["Spider","web"],
    ["Crocodile","snout"],
    ["Hamster","cheek"],
    ["Guinea Pig","nest"],
    ["Ferret","den"],
    ["Hedgehog","spine"],
    ["Raccoon","mask"],
    ["Squirrel","tail"],
    ["Deer","antler"],
    ["Moose","antler"],
    ["Fox","den"],
    ["Wolf","pack"],
    ["Cheetah","spots"],
    ["Leopard","rosette"],
    ["Gorilla","silverback"],
    ["Hippo","mouth"],
    ["Rhino","horn"],
    ["Camel","hump"],
    ["Llama","fleece"],
    ["Alpaca","fiber"],
    ["Seal","flipper"]
  ],
  food:[
    ["Pizza","oven"],
    ["Burger","grill"],
    ["Sushi","mat"],
    ["Pasta","pot"],
    ["Taco","shell"],
    ["Sandwich","bread"],
    ["Salad","bowl"],
    ["Soup","spoon"],
    ["Steak","pan"],
    ["Chicken","roast"],
    ["Fish","fillet"],
    ["Rice","steam"],
    ["Cheese","wheel"],
    ["Ice Cream","cone"],
    ["Cake","pan"],
    ["Cookie","bake"],
    ["Donut","glaze"],
    ["Pancake","griddle"],
    ["Waffle","iron"],
    ["Cereal","bowl"],
    ["Toast","bread"],
    ["Egg","shell"],
    ["Bacon","fry"],
    ["Hot Dog","bun"],
    ["Burrito","wrap"],
    ["Nachos","cheese"],
    ["Popcorn","kernels"],
    ["Pretzel","twist"],
    ["Chips","bag"],
    ["Fries","basket"],
    ["Lasagna","layer"],
    ["Ravioli","stuffing"],
    ["Spaghetti","noodle"],
    ["Meatball","sauce"],
    ["Ribs","smoke"],
    ["Wings","buffalo"],
    ["Shrimp","shell"],
    ["Lobster","claw"],
    ["Crab","carapace"],
    ["Oyster","shell"],
    ["Clam","sea"],
    ["Scallops","pan"],
    ["Bagel","hole"],
    ["Croissant","butter"],
    ["Muffin","top"],
    ["Brownie","chocolate"],
    ["Cupcake","frosting"],
    ["Pie","crust"]
  ],
  locations:[
    ["Beach","dune"],
    ["Mountain","ridge"],
    ["Forest","understory"],
    ["Desert","sand"],
    ["Lake","shore"],
    ["River","current"],
    ["Park","bench"],
    ["Zoo","enclosure"],
    ["Museum","plinth"],
    ["Library","shelf"],
    ["School","locker"],
    ["Hospital","ward"],
    ["Airport","runway"],
    ["Train Station","platform"],
    ["Mall","atrium"],
    ["Restaurant","pass"],
    ["Hotel","lobby"],
    ["Gym","locker"],
    ["Theater","stage"],
    ["Stadium","stand"],
    ["Church","altar"],
    ["Castle","moat"],
    ["Bridge","abutment"],
    ["Lighthouse","lens"],
    ["Farm","barn"],
    ["Factory","conveyor"],
    ["Warehouse","pallet"],
    ["Bakery","proofing"],
    ["Bank","vault"],
    ["Post Office","dropbox"],
    ["Grocery Store","register"],
    ["Gas Station","pump"],
    ["Car Wash","spray"],
    ["Pharmacy","shelf"],
    ["Laundromat","washer"],
    ["Barber Shop","chair"],
    ["Salon","color"],
    ["Spa","table"],
    ["Dentist","chair"],
    ["Vet","exam"],
    ["Aquarium","tank"],
    ["Planetarium","dome"],
    ["Casino","chip"],
    ["Bowling Alley","lane"],
    ["Movie Theater","screen"],
    ["Arcade","joystick"],
    ["Miniature Golf","hole"],
    ["Go Karts","track"],
    ["Skate Park","rail"],
    ["Playground","slide"],
    ["Trampoline Park","mat"],
    ["Laser Tag","vest"]
  ],
  objects:[
    ["Phone","screen"],
    ["Computer","chip"],
    ["TV","remote"],
    ["Book","page"],
    ["Pen","ink"],
    ["Pencil","lead"],
    ["Clock","gear"],
    ["Calendar","grid"],
    ["Camera","lens"],
    ["Mirror","glass"],
    ["Lamp","bulb"],
    ["Chair","leg"],
    ["Table","surface"],
    ["Bed","frame"],
    ["Pillow","filling"],
    ["Blanket","weave"],
    ["Cup","handle"],
    ["Plate","rim"],
    ["Fork","tine"],
    ["Knife","blade"],
    ["Spoon","bowl"],
    ["Bottle","cap"],
    ["Can","tab"],
    ["Bag","strap"],
    ["Backpack","zipper"],
    ["Wallet","fold"],
    ["Keys","ring"],
    ["Umbrella","spoke"],
    ["Sunglasses","lens"],
    ["Hat","brim"],
    ["Watch","dial"],
    ["Bracelet","clasp"],
    ["Necklace","chain"],
    ["Ring","band"],
    ["Earrings","post"],
    ["Belt","buckle"],
    ["Shoes","sole"],
    ["Socks","cuff"],
    ["Gloves","seam"],
    ["Scarf","fringe"],
    ["Tie","knot"],
    ["Bow Tie","wing"],
    ["Jacket","zipper"],
    ["Coat","button"],
    ["Sweater","stitch"],
    ["Pants","hem"],
    ["Shorts","waist"]
  ],
  entertainment:[
    ["Movie","reel"],
    ["Concert","stage"],
    ["Play","curtain"],
    ["Comedy Show","mic"],
    ["Magic Show","wand"],
    ["Circus","tent"],
    ["Carnival","ticket"],
    ["Fair","booth"],
    ["Festival","lineup"],
    ["Parade","float"],
    ["Fireworks","shell"],
    ["Party","decor"],
    ["Dance","floor"],
    ["Karaoke","queue"],
    ["Arcade","joystick"],
    ["Bowling Alley","lane"],
    ["Roller Rink","rink"],
    ["Amusement Park","ride"],
    ["Water Park","slide"],
    ["Escape Room","lock"],
    ["Laser Tag","sensor"],
    ["Haunted House","prop"],
    ["Campfire","log"],
    ["BBQ","grill"],
    ["Picnic","basket"],
    ["Beach Party","net"],
    ["Game Night","cards"],
    ["Trivia Night","buzzer"],
    ["Talent Show","stage"],
    ["Art Class","palette"],
    ["Painting","canvas"],
    ["Drawing","pencil"],
    ["Pottery","clay"],
    ["Sculpture","chisel"],
    ["Photography","aperture"],
    ["Film","camera"],
    ["Theater","grid"],
    ["Musical","score"],
    ["Opera","libretto"],
    ["Ballet","tutu"],
    ["Hip Hop","cypher"],
    ["Jazz","sax"],
    ["Rock Concert","amp"],
    ["Pop Concert","stage"],
    ["Classical","baton"],
    ["Karate Tournament","ring"]
  ],
  professions:[
    ["Doctor","stethoscope"],
    ["Nurse","cart"],
    ["Teacher","desk"],
    ["Chef","knife"],
    ["Waiter","tray"],
    ["Pilot","cockpit"],
    ["Flight Attendant","galley"],
    ["Driver","wheel"],
    ["Mechanic","wrench"],
    ["Plumber","pipe"],
    ["Electrician","cable"],
    ["Carpenter","saw"],
    ["Painter","brush"],
    ["Firefighter","hose"],
    ["Police Officer","radio"],
    ["Soldier","rifle"],
    ["Lawyer","brief"],
    ["Judge","gavel"],
    ["Cashier","scanner"],
    ["Barista","tamper"],
    ["Bartender","shaker"],
    ["Photographer","tripod"],
    ["Musician","metronome"],
    ["Singer","mic"],
    ["Actor","script"],
    ["Dancer","barre"],
    ["Artist","canvas"],
    ["Writer","notebook"],
    ["Journalist","press"],
    ["Scientist","sample"],
    ["Accountant","ledger"],
    ["Banker","vault"],
    ["Architect","blueprint"],
    ["Engineer","gear"],
    ["Programmer","code"],
    ["Designer","swatch"],
    ["Dentist","drill"],
    ["Veterinarian","exam"],
    ["Pharmacist","capsule"],
    ["Librarian","shelf"],
    ["Secretary","memo"],
    ["Receptionist","directory"],
    ["Mail Carrier","bag"],
    ["Delivery Driver","manifest"],
    ["Truck Driver","log"],
    ["Construction Worker","helmet"],
    ["Janitor","mop"],
    ["Security Guard","badge"],
    ["Lifeguard","whistle"],
    ["Personal Trainer","dumbbell"],
    ["Coach","clipboard"],
    ["Referee","whistle"]
  ]
};
const categoryNames={
  sports:"Sports",
  animals:"Animals",
  food:"Food & Drink",
  locations:"Locations",
  objects:"Objects",
  entertainment:"Entertainment",
  professions:"Professions"
};
let names=[],roles=[],current,currentCategory,viewed=0;
const show=s=>{
  [menu,setup,game].forEach(x=>x.classList.remove("active"));
  s.classList.add("active");
};
document.getElementById("startBtn").onclick=()=>show(setup);
document.getElementById("backBtn").onclick=()=>show(menu);
document.getElementById("namesBtn").onclick=()=>{
  namesDiv.innerHTML="";
  for(let i=0;i<playerCount.value;i++){
    const input=document.createElement("input");
    input.placeholder="Player "+(i+1);
    namesDiv.appendChild(input);
  }
};
document.getElementById("beginBtn").onclick=()=>{
  names=[...namesDiv.querySelectorAll("input")].map((i,n)=>i.value||`Player ${n+1}`);
  startRound();
};
document.getElementById("closeRole").onclick=()=>roleOverlay.classList.remove("show");
document.getElementById("revealBtn").onclick=showReveal;
document.getElementById("nextRound").onclick=startRound;
document.getElementById("menuBtn").onclick=()=>{
  finalOverlay.classList.remove("show");
  show(menu);
};
function startRound(){
  viewed=0;
  revealBtn.style.display="none";
  finalOverlay.classList.remove("show");
  show(game);
  if(category.value==="all"){
    const categories=Object.keys(data);
    currentCategory=categories[Math.floor(Math.random()*categories.length)];
    const pool=data[currentCategory];
    current=pool[Math.floor(Math.random()*pool.length)];
  }else{
    currentCategory=category.value;
    const pool=data[currentCategory];
    current=pool[Math.floor(Math.random()*pool.length)];
  }
  roles=Array(names.length).fill("player");
  for(let i=0;i<Math.min(imposterCount.value,names.length-1);i++) roles[i]="imposter";
  roles.sort(()=>Math.random()-.5);
  speaker.textContent=names[Math.floor(Math.random()*names.length)];
  grid.innerHTML="";
  names.forEach((n,i)=>{
    const t=document.createElement("div");
    t.className="tile";
    t.innerHTML=`<span>${n}</span>`;
    const showRole=()=>{
      if(t.classList.contains("used")) return;
      if(roles[i]==="imposter"){
        roleOverlay.style.background="rgba(239,68,68,.15)";
        roleOverlay.style.backdropFilter="blur(12px)";
        roleOverlay.style.webkitBackdropFilter="blur(12px)";
        roleContent.innerHTML=`
          <div class="imposter-text">IMPOSTER</div>
          <p class="muted">You don't know the word</p>
          <p style="font-size:20px;margin-top:20px;font-weight:700;color:var(--danger)">Category: ${categoryNames[currentCategory]}</p>
          <p style="font-size:18px;margin-top:12px;font-weight:600;color:var(--text-muted)">Hint: "${current[1]}"</p>
          <p class="muted" style="margin-top:16px;font-size:15px">Blend in and figure it out</p>
        `;
      }else{
        roleOverlay.style.background="rgba(0,0,0,.95)";
        roleOverlay.style.backdropFilter="blur(12px)";
        roleOverlay.style.webkitBackdropFilter="blur(12px)";
        roleContent.innerHTML=`
          <h2 style="margin-bottom:12px;color:var(--text-muted);font-size:16px;font-weight:600;text-transform:uppercase;letter-spacing:1px">Your Word</h2>
          <div class="role-word">${current[0]}</div>
          <p class="muted" style="margin-top:16px;font-size:15px">Give subtle clues without being obvious</p>
        `;
      }
      roleOverlay.classList.add("show");
      t.classList.add("used");
      viewed++;
      if(viewed===names.length) revealBtn.style.display="block";
    };
    t.onclick=showRole;
    t.ontouchstart=(e)=>{
      e.preventDefault();
      showRole();
    };
    grid.appendChild(t);
  });
}
function showReveal(){
  finalWord.textContent=current[0];
  finalImposters.textContent=names.filter((_,i)=>roles[i]==="imposter").join(", ");
  finalOverlay.classList.add("show");
}
});
</script>
</body>
</html>
